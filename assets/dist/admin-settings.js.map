{
  "version": 3,
  "sources": ["../src/admin/settings/index.js"],
  "sourcesContent": ["/* global jQuery, wp */\n\n(function($) {\n    'use strict';\n\n    $(function() {\n        var config = window.humataAdminConfig || {};\n        var humataAdminNonce = String(config.nonce || '');\n\n        // Back-compat: the previous inline scripts used `window.humataDocumentTitles`.\n        if (config.documentTitles && typeof config.documentTitles === 'object') {\n            window.humataDocumentTitles = config.documentTitles;\n        } else if (!window.humataDocumentTitles || typeof window.humataDocumentTitles !== 'object') {\n            window.humataDocumentTitles = {};\n        }\n\n        // Prefer configured ajax URL, fallback to WP admin global.\n        var ajaxurl = String(config.ajaxUrl || window.ajaxurl || '');\n\n        // ---------------------------\n        // Document IDs UI + API tests\n        // ---------------------------\n\n        (function() {\n            var humataTitles = window.humataDocumentTitles || {};\n            var humataTitleNotFetchedText = (config.i18n && typeof config.i18n.titleNotFetchedText === 'string')\n                ? config.i18n.titleNotFetchedText\n                : \"(title not fetched)\";\n            var humataDocsPerPage = 100;\n            var humataDocsPage = 0;\n\n            function humataExtractIds(text) {\n                var matches = (text || \"\").match(/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/ig) || [];\n                var seen = {};\n                var unique = [];\n                $.each(matches, function(_, id) {\n                    id = id.toLowerCase();\n                    if (!seen[id]) {\n                        seen[id] = true;\n                        unique.push(id);\n                    }\n                });\n                return unique;\n            }\n\n            function humataGetTokenIds() {\n                return $(\"#humata-document-ids-tokens .humata-token\").map(function() {\n                    return ($(this).attr(\"data-id\") || \"\").toLowerCase();\n                }).get();\n            }\n\n            function humataGetLabelForId(id) {\n                id = (id || \"\").toLowerCase();\n                if (humataTitles[id]) {\n                    return humataTitles[id];\n                }\n                return id;\n            }\n\n            function humataSortTokens() {\n                var $container = $(\"#humata-document-ids-tokens\");\n                var tokens = $container.children(\".humata-token\").get();\n                tokens.sort(function(a, b) {\n                    var aId = ($(a).attr(\"data-id\") || \"\").toLowerCase();\n                    var bId = ($(b).attr(\"data-id\") || \"\").toLowerCase();\n                    var aLabel = $.trim(humataGetLabelForId(aId) || aId).toLowerCase();\n                    var bLabel = $.trim(humataGetLabelForId(bId) || bId).toLowerCase();\n\n                    if (aLabel === bLabel) {\n                        return bId.localeCompare(aId);\n                    }\n                    return bLabel.localeCompare(aLabel);\n                });\n                $.each(tokens, function(_, el) {\n                    $container.append(el);\n                });\n            }\n\n            function humataAddToken(id) {\n                id = (id || \"\").toLowerCase();\n                if (!id) {\n                    return;\n                }\n\n                if ($(\"#humata-document-ids-tokens .humata-token[data-id=\\\"\" + id + \"\\\"]\").length) {\n                    return;\n                }\n\n                var $token = $(\"<span></span>\")\n                    .addClass(\"humata-token\")\n                    .attr(\"data-id\", id)\n                    .attr(\"title\", humataGetLabelForId(id));\n\n                var $label = $(\"<span></span>\")\n                    .addClass(\"humata-token-label\")\n                    .text(humataGetLabelForId(id));\n\n                var $remove = $(\"<button></button>\")\n                    .attr(\"type\", \"button\")\n                    .addClass(\"humata-token-remove\")\n                    .attr(\"aria-label\", \"Remove\")\n                    .text(\"\u00D7\");\n\n                $token.append($label).append($remove);\n                $(\"#humata-document-ids-tokens\").append($token);\n            }\n\n            function humataSyncHiddenAndCount() {\n                var ids = humataGetTokenIds();\n                $(\"#humata_document_ids\").val(ids.join(\", \"));\n                $(\"#humata-document-count\").text(ids.length);\n            }\n\n            function humataRenderDocumentsPagination(total) {\n                var $pager = $(\"#humata-documents-pagination\");\n                if (!$pager.length) {\n                    return;\n                }\n\n                $pager.empty();\n\n                if (!total || total <= humataDocsPerPage) {\n                    return;\n                }\n\n                var totalPages = Math.max(1, Math.ceil(total / humataDocsPerPage));\n                var currentPage = humataDocsPage + 1;\n                var start = (humataDocsPage * humataDocsPerPage) + 1;\n                var end = Math.min((humataDocsPage + 1) * humataDocsPerPage, total);\n\n                var $prev = $(\"<button></button>\")\n                    .attr(\"type\", \"button\")\n                    .addClass(\"button button-secondary\")\n                    .attr(\"id\", \"humata-documents-page-prev\")\n                    .text(\"Previous\")\n                    .prop(\"disabled\", humataDocsPage <= 0);\n\n                var $next = $(\"<button></button>\")\n                    .attr(\"type\", \"button\")\n                    .addClass(\"button button-secondary\")\n                    .attr(\"id\", \"humata-documents-page-next\")\n                    .text(\"Next\")\n                    .prop(\"disabled\", humataDocsPage >= totalPages - 1);\n\n                var $info = $(\"<span></span>\")\n                    .addClass(\"humata-documents-page-info\")\n                    .text(\"Showing \" + start + \"\u2013\" + end + \" of \" + total + \" (Page \" + currentPage + \"/\" + totalPages + \")\");\n\n                $pager.append($prev).append($info).append($next);\n            }\n\n            function humataSyncDocumentsTable() {\n                var $tbody = $(\"#humata-documents-table-body\");\n                if (!$tbody.length) {\n                    return;\n                }\n\n                var ids = humataGetTokenIds();\n                var total = ids.length;\n\n                if (!total) {\n                    $tbody.empty();\n                    humataRenderDocumentsPagination(0);\n                    return;\n                }\n\n                var totalPages = Math.max(1, Math.ceil(total / humataDocsPerPage));\n                if (humataDocsPage >= totalPages) {\n                    humataDocsPage = totalPages - 1;\n                }\n                if (humataDocsPage < 0) {\n                    humataDocsPage = 0;\n                }\n\n                var startIndex = humataDocsPage * humataDocsPerPage;\n                var endIndex = Math.min(startIndex + humataDocsPerPage, total);\n                var pageIds = ids.slice(startIndex, endIndex);\n\n                $tbody.empty();\n\n                $.each(pageIds, function(_, id) {\n                    var title = humataTitles[id] ? humataTitles[id] : humataTitleNotFetchedText;\n                    var $row = $(\"<tr></tr>\").attr(\"data-doc-id\", id);\n                    $row.append($(\"<td></td>\").addClass(\"humata-doc-title\").text(title));\n                    $row.append($(\"<td></td>\").append($(\"<code></code>\").text(id)));\n                    $tbody.append($row);\n                });\n\n                humataRenderDocumentsPagination(total);\n            }\n\n            function humataAddTokensFromText(text) {\n                var ids = humataExtractIds(text);\n                if (!ids.length) {\n                    return false;\n                }\n\n                $.each(ids, function(_, id) {\n                    humataAddToken(id);\n                });\n\n                humataSortTokens();\n                humataSyncHiddenAndCount();\n                humataSyncDocumentsTable();\n                return true;\n            }\n\n            function humataInitTokensFromHidden() {\n                var $hidden = $(\"#humata_document_ids\");\n                var $tokens = $(\"#humata-document-ids-tokens\");\n                if (!$hidden.length || !$tokens.length) {\n                    return;\n                }\n\n                var ids = humataExtractIds($hidden.val());\n                $tokens.empty();\n                $.each(ids, function(_, id) {\n                    humataAddToken(id);\n                });\n\n                humataSortTokens();\n                humataSyncHiddenAndCount();\n                humataSyncDocumentsTable();\n            }\n\n            humataInitTokensFromHidden();\n\n            $(document).on(\"click\", \"#humata-documents-page-prev\", function() {\n                if (humataDocsPage > 0) {\n                    humataDocsPage--;\n                    humataSyncDocumentsTable();\n                }\n            });\n\n            $(document).on(\"click\", \"#humata-documents-page-next\", function() {\n                var total = humataGetTokenIds().length;\n                var totalPages = Math.max(1, Math.ceil(total / humataDocsPerPage));\n                if (humataDocsPage < totalPages - 1) {\n                    humataDocsPage++;\n                    humataSyncDocumentsTable();\n                }\n            });\n\n            $(document).on(\"click\", \"#humata-document-ids-control, #humata-document-ids-tokens\", function(e) {\n                if ($(e.target).closest(\".humata-token-remove\").length) {\n                    return;\n                }\n                $(\"#humata_document_ids_input\").trigger(\"focus\");\n            });\n\n            $(document).on(\"click\", \".humata-token-remove\", function() {\n                $(this).closest(\".humata-token\").remove();\n                humataSyncHiddenAndCount();\n                humataSyncDocumentsTable();\n            });\n\n            $(document).on(\"keydown\", \"#humata_document_ids_input\", function(e) {\n                var key = e.key;\n                if (key === \",\" || key === \"Enter\" || key === \"Tab\") {\n                    var val = $(this).val();\n                    var added = humataAddTokensFromText(val);\n\n                    if (key === \"Enter\" || key === \",\") {\n                        e.preventDefault();\n                        if (added) {\n                            $(this).val(\"\");\n                        }\n                        return;\n                    }\n\n                    if (key === \"Tab\" && added) {\n                        e.preventDefault();\n                        $(this).val(\"\");\n                        return;\n                    }\n                }\n\n                if (key === \"Backspace\" && $(this).val() === \"\") {\n                    var $last = $(\"#humata-document-ids-tokens .humata-token\").last();\n                    if ($last.length) {\n                        $last.remove();\n                        humataSyncHiddenAndCount();\n                        humataSyncDocumentsTable();\n                        e.preventDefault();\n                    }\n                }\n            });\n\n            $(document).on(\"paste\", \"#humata_document_ids_input\", function() {\n                var $input = $(this);\n                setTimeout(function() {\n                    var added = humataAddTokensFromText($input.val());\n                    if (added) {\n                        $input.val(\"\");\n                    }\n                }, 0);\n            });\n\n            $(document).on(\"blur\", \"#humata_document_ids_input\", function() {\n                var val = $(this).val();\n                var added = humataAddTokensFromText(val);\n                if (added) {\n                    $(this).val(\"\");\n                }\n            });\n\n            // Document IDs: Import / Export\n            function humataSetIoStatus(message, kind) {\n                var $status = $(\"#humata-document-ids-io-status\");\n                if (!$status.length) {\n                    return;\n                }\n\n                $status.removeClass(\"humata-io-status-success humata-io-status-error humata-io-status-info\");\n                if (kind === \"success\") {\n                    $status.addClass(\"humata-io-status-success\");\n                } else if (kind === \"error\") {\n                    $status.addClass(\"humata-io-status-error\");\n                } else if (kind === \"info\") {\n                    $status.addClass(\"humata-io-status-info\");\n                }\n\n                $status.text(message || \"\");\n            }\n\n            function humataExportIdsToText() {\n                var ids = humataGetTokenIds();\n                if (!ids || !ids.length) {\n                    return \"\";\n                }\n                return ids.join(\"\\\\n\");\n            }\n\n            function humataDownloadFile(filename, content, mimeType) {\n                try {\n                    var mime = mimeType || \"text/plain;charset=utf-8\";\n                    var blob = new Blob([content || \"\"], { type: mime });\n                    var url = URL.createObjectURL(blob);\n                    var a = document.createElement(\"a\");\n                    a.href = url;\n                    a.download = filename || \"humata-document-ids.txt\";\n                    document.body.appendChild(a);\n                    a.click();\n                    setTimeout(function() {\n                        try { document.body.removeChild(a); } catch (e) {}\n                        try { URL.revokeObjectURL(url); } catch (e) {}\n                    }, 0);\n                } catch (e) {\n                    humataSetIoStatus(\"Download failed.\", \"error\");\n                }\n            }\n\n            function humataCopyToClipboard(text) {\n                if (navigator.clipboard && navigator.clipboard.writeText) {\n                    return navigator.clipboard.writeText(text);\n                }\n\n                return new Promise(function(resolve, reject) {\n                    try {\n                        var $temp = $(\"<textarea></textarea>\")\n                            .css({ position: \"absolute\", left: \"-9999px\", top: \"0\" })\n                            .val(text || \"\");\n\n                        $(\"body\").append($temp);\n                        $temp[0].focus();\n                        $temp[0].select();\n\n                        var ok = false;\n                        try {\n                            ok = document.execCommand(\"copy\");\n                        } catch (e) {\n                            ok = false;\n                        }\n\n                        $temp.remove();\n\n                        if (ok) {\n                            resolve();\n                        } else {\n                            reject(new Error(\"copy_failed\"));\n                        }\n                    } catch (e) {\n                        reject(e);\n                    }\n                });\n            }\n\n            function humataGetImportMode() {\n                var $checked = $(\"input[name=\\\"humata_document_ids_import_mode\\\"]:checked\");\n                var mode = $checked.length ? String($checked.val() || \"\") : \"\";\n                mode = $.trim(mode);\n                return mode === \"replace\" ? \"replace\" : \"merge\";\n            }\n\n            function humataApplyImportedText(text, mode) {\n                var importText = String(text || \"\");\n                var importMode = mode === \"replace\" ? \"replace\" : \"merge\";\n\n                var existingCount = humataGetTokenIds().length;\n                var ids = humataExtractIds(importText);\n\n                if (!ids.length) {\n                    humataSetIoStatus(\"No valid UUIDs found to import.\", \"error\");\n                    return false;\n                }\n\n                var beforeCount = existingCount;\n                if (importMode === \"replace\") {\n                    $(\"#humata-document-ids-tokens\").empty();\n                    humataDocsPage = 0;\n                    beforeCount = 0;\n                }\n\n                $.each(ids, function(_, id) {\n                    humataAddToken(id);\n                });\n\n                humataSortTokens();\n                humataSyncHiddenAndCount();\n                humataSyncDocumentsTable();\n\n                var afterCount = humataGetTokenIds().length;\n                if (importMode === \"merge\") {\n                    var addedCount = Math.max(0, afterCount - beforeCount);\n                    var dupCount = Math.max(0, ids.length - addedCount);\n                    humataSetIoStatus(\"Imported \" + addedCount + \" IDs (\" + dupCount + \" duplicates ignored). Click Save Settings to persist.\", \"success\");\n                } else {\n                    humataSetIoStatus(\"Replaced \" + existingCount + \" IDs with \" + afterCount + \" imported IDs. Click Save Settings to persist.\", \"success\");\n                }\n\n                return true;\n            }\n\n            $(document).on(\"click\", \"#humata-document-ids-export-copy\", function() {\n                var text = humataExportIdsToText();\n                var count = humataGetTokenIds().length;\n                if (!text) {\n                    humataSetIoStatus(\"No document IDs to export.\", \"error\");\n                    return;\n                }\n\n                humataCopyToClipboard(text).then(function() {\n                    humataSetIoStatus(\"Copied \" + count + \" IDs to clipboard.\", \"success\");\n                }).catch(function() {\n                    humataSetIoStatus(\"Copy failed. Try Download TXT instead.\", \"error\");\n                });\n            });\n\n            $(document).on(\"click\", \"#humata-document-ids-export-download\", function() {\n                var ids = humataGetTokenIds();\n                if (!ids.length) {\n                    humataSetIoStatus(\"No document IDs to export.\", \"error\");\n                    return;\n                }\n                var content = ids.join(\"\\\\n\") + \"\\\\n\";\n                humataDownloadFile(\"humata-document-ids.txt\", content, \"text/plain;charset=utf-8\");\n                humataSetIoStatus(\"Downloaded TXT for \" + ids.length + \" IDs.\", \"info\");\n            });\n\n            $(document).on(\"click\", \"#humata-document-ids-export-download-json\", function() {\n                var ids = humataGetTokenIds();\n                if (!ids.length) {\n                    humataSetIoStatus(\"No document IDs to export.\", \"error\");\n                    return;\n                }\n                var json = JSON.stringify({ document_ids: ids }, null, 2);\n                humataDownloadFile(\"humata-document-ids.json\", json + \"\\\\n\", \"application/json;charset=utf-8\");\n                humataSetIoStatus(\"Downloaded JSON for \" + ids.length + \" IDs.\", \"info\");\n            });\n\n            $(document).on(\"change\", \"#humata-document-ids-import-file\", function() {\n                var input = this;\n                var file = input && input.files && input.files[0] ? input.files[0] : null;\n                if (!file) {\n                    return;\n                }\n\n                var reader = new FileReader();\n                reader.onload = function(e) {\n                    var text = (e && e.target && e.target.result) ? String(e.target.result) : \"\";\n                    $(\"#humata-document-ids-import-text\").val(text);\n                    humataSetIoStatus(\"Loaded file. Choose Merge/Replace and click Apply Import.\", \"info\");\n                };\n                reader.onerror = function() {\n                    humataSetIoStatus(\"Failed to read file.\", \"error\");\n                };\n\n                try {\n                    reader.readAsText(file);\n                } catch (e) {\n                    humataSetIoStatus(\"Failed to read file.\", \"error\");\n                }\n            });\n\n            $(document).on(\"click\", \"#humata-document-ids-import-apply\", function() {\n                var text = $(\"#humata-document-ids-import-text\").val();\n                var mode = humataGetImportMode();\n                humataApplyImportedText(text, mode);\n            });\n\n            $(document).on(\"click\", \"#humata-document-ids-clear-all\", function() {\n                var count = humataGetTokenIds().length;\n                if (!count) {\n                    humataSetIoStatus(\"No document IDs to clear.\", \"info\");\n                    return;\n                }\n\n                if (!window.confirm(\"Remove all configured Document IDs?\")) {\n                    return;\n                }\n\n                $(\"#humata-document-ids-tokens\").empty();\n                humataDocsPage = 0;\n                humataSyncHiddenAndCount();\n                humataSyncDocumentsTable();\n                humataSetIoStatus(\"Cleared all Document IDs. Click Save Settings to persist.\", \"success\");\n            });\n\n            $(\"#humata-test-api\").on(\"click\", function() {\n                var $btn = $(this);\n                var $result = $(\"#humata-test-result\");\n                $btn.prop(\"disabled\", true).text(\"Testing...\");\n                $result.html(\"\");\n                $.post(ajaxurl, {\n                    action: \"humata_test_api\",\n                    nonce: humataAdminNonce\n                }, function(response) {\n                    $btn.prop(\"disabled\", false).text(\"Test API Connection\");\n                    if (response.success) {\n                        $result.html(\"<span style=\\\"color:green;\\\">\u2713 \" + response.data.message + \"</span>\");\n                    } else {\n                        $result.html(\"<span style=\\\"color:red;\\\">\u2717 \" + response.data.message + \"</span>\");\n                    }\n                }).fail(function() {\n                    $btn.prop(\"disabled\", false).text(\"Test API Connection\");\n                    $result.html(\"<span style=\\\"color:red;\\\">\u2717 Request failed</span>\");\n                });\n            });\n            $(\"#humata-clear-cache\").on(\"click\", function() {\n                var $btn = $(this);\n                $btn.prop(\"disabled\", true).text(\"Clearing...\");\n                $.post(ajaxurl, {\n                    action: \"humata_clear_cache\",\n                    nonce: humataAdminNonce\n                }, function(response) {\n                    $btn.prop(\"disabled\", false).text(\"Clear Cache\");\n                    if (response.success) {\n                        alert(\"Cache cleared!\");\n                        location.reload();\n                    } else {\n                        alert(\"Failed to clear cache.\");\n                    }\n                });\n            });\n            $(\"#humata-test-ask\").on(\"click\", function() {\n                var $btn = $(this);\n                var $result = $(\"#humata-test-result\");\n                $btn.prop(\"disabled\", true).text(\"Testing Ask...\");\n                $result.html(\"\");\n                $.post(ajaxurl, {\n                    action: \"humata_test_ask\",\n                    nonce: humataAdminNonce\n                }, function(response) {\n                    $btn.prop(\"disabled\", false).text(\"Test Ask\");\n                    if (response.success) {\n                        $result.html(\"<span style=\\\"color:green;\\\">\u2713 \" + response.data.message + \"</span>\");\n                    } else {\n                        $result.html(\"<span style=\\\"color:red;\\\">\u2717 \" + response.data.message + \"</span>\");\n                    }\n                }).fail(function() {\n                    $btn.prop(\"disabled\", false).text(\"Test Ask\");\n                    $result.html(\"<span style=\\\"color:red;\\\">\u2717 Request failed</span>\");\n                });\n            });\n\n            $(\"#humata-fetch-titles\").on(\"click\", function() {\n                var $btn = $(this);\n                var $result = $(\"#humata-test-result\");\n                var offset = 0;\n                var limit = 5;\n                var delayMs = 2000;\n                var documentIds = $(\"#humata_document_ids\").val();\n\n                $btn.prop(\"disabled\", true).text(\"Fetching...\");\n                $result.html(\"\");\n\n                function fetchBatch() {\n                    $.post(ajaxurl, {\n                        action: \"humata_fetch_titles\",\n                        nonce: humataAdminNonce,\n                        offset: offset,\n                        limit: limit,\n                        document_ids: documentIds\n                    }, function(response) {\n                        if (!response.success) {\n                            $btn.prop(\"disabled\", false).text(\"Fetch Titles\");\n                            var msg = response.data && response.data.message ? response.data.message : \"Request failed\";\n                            if (response.data && response.data.errorMessage) {\n                                msg = msg + \" (\" + response.data.errorMessage + \")\";\n                            }\n                            $result.html(\"<span style=\\\"color:red;\\\">\u2717 \" + msg + \"</span>\");\n                            return;\n                        }\n\n                        if (response.data && response.data.titles) {\n                            $.each(response.data.titles, function(docId, title) {\n                                docId = (docId || \"\").toLowerCase();\n                                if (!docId || !title) {\n                                    return;\n                                }\n\n                                humataTitles[docId] = title;\n\n                                var $token = $(\"#humata-document-ids-tokens .humata-token[data-id=\\\"\" + docId + \"\\\"]\");\n                                $token.find(\".humata-token-label\").text(title);\n                                $token.attr(\"title\", title);\n\n                                $(\"#humata-documents-table-body tr[data-doc-id=\\\"\" + docId + \"\\\"] .humata-doc-title\").text(title);\n                            });\n                        }\n\n                        humataSortTokens();\n                        humataSyncHiddenAndCount();\n                        humataSyncDocumentsTable();\n\n                        offset = response.data.nextOffset;\n                        var successMsg = response.data.message || \"\";\n                        if (response.data.errors && response.data.errorMessage) {\n                            successMsg = successMsg + \" (\" + response.data.errorMessage + \")\";\n                        }\n                        $result.html(\"<span style=\\\"color:green;\\\">\u2713 \" + successMsg + \"</span>\");\n\n                        if (response.data.done) {\n                            $btn.prop(\"disabled\", false).text(\"Fetch Titles\");\n                            return;\n                        }\n\n                        setTimeout(fetchBatch, delayMs);\n                    }).fail(function() {\n                        $btn.prop(\"disabled\", false).text(\"Fetch Titles\");\n                        $result.html(\"<span style=\\\"color:red;\\\">\u2717 Request failed</span>\");\n                    });\n                }\n\n                fetchBatch();\n            });\n        })();\n\n        // ---------------------------\n        // Second-stage provider toggle\n        // ---------------------------\n\n        (function() {\n            function humataGetSecondLlmProvider() {\n                var $selected = $(\"input[name=\\\"humata_second_llm_provider\\\"]:checked\");\n                var val = $selected.length ? String($selected.val() || \"\") : \"\";\n                val = $.trim(val);\n                if (!val) {\n                    val = \"none\";\n                }\n                return val;\n            }\n\n            function humataToggleSecondLlmFields() {\n                var provider = humataGetSecondLlmProvider();\n                var showStraico = provider === \"straico\";\n                var showAnthropic = provider === \"anthropic\";\n                var showAny = provider !== \"none\";\n\n                $(\"#humata_straico_api_key\").closest(\"tr\").toggle(showStraico);\n                $(\"#humata_straico_model\").closest(\"tr\").toggle(showStraico);\n\n                $(\"#humata_anthropic_api_key\").closest(\"tr\").toggle(showAnthropic);\n                $(\"#humata_anthropic_model\").closest(\"tr\").toggle(showAnthropic);\n                $(\"#humata_anthropic_extended_thinking\").closest(\"tr\").toggle(showAnthropic);\n\n                $(\"#humata_straico_system_prompt\").closest(\"tr\").toggle(showAny);\n            }\n\n            $(document).on(\"change\", \"input[name=\\\"humata_second_llm_provider\\\"]\", humataToggleSecondLlmFields);\n            humataToggleSecondLlmFields();\n        })();\n\n        // -----------------------------------------------\n        // Floating Help + Auto Links + Intent Links helpers\n        // -----------------------------------------------\n\n        (function() {\n            function humataSafeInt(value, fallback) {\n                var n = parseInt(value, 10);\n                return (isFinite(n) && n >= 0) ? n : (fallback || 0);\n            }\n\n            function humataBuildExternalLinkRow(idx) {\n                return \"\" +\n                    \"<tr class=\\\"humata-repeater-row\\\">\" +\n                        \"<td class=\\\"humata-repeater-handle-cell\\\">\" +\n                            \"<span class=\\\"dashicons dashicons-move humata-repeater-handle\\\" aria-hidden=\\\"true\\\"></span>\" +\n                            \"<span class=\\\"screen-reader-text\\\">Drag to reorder</span>\" +\n                        \"</td>\" +\n                        \"<td style=\\\"width: 28%\\\">\" +\n                            \"<input type=\\\"text\\\" class=\\\"regular-text\\\" name=\\\"humata_floating_help[external_links][\" + idx + \"][label]\\\" value=\\\"\\\" placeholder=\\\"Label\\\">\" +\n                        \"</td>\" +\n                        \"<td>\" +\n                            \"<input type=\\\"url\\\" class=\\\"regular-text\\\" name=\\\"humata_floating_help[external_links][\" + idx + \"][url]\\\" value=\\\"\\\" placeholder=\\\"https://example.com/\\\">\" +\n                        \"</td>\" +\n                        \"<td style=\\\"width: 90px\\\">\" +\n                            \"<button type=\\\"button\\\" class=\\\"button link-delete humata-repeater-remove\\\">Remove</button>\" +\n                        \"</td>\" +\n                    \"</tr>\";\n            }\n\n            function humataBuildAutoLinkRow(idx) {\n                return \"\" +\n                    \"<tr class=\\\"humata-repeater-row\\\">\" +\n                        \"<td class=\\\"humata-repeater-handle-cell\\\">\" +\n                            \"<span class=\\\"dashicons dashicons-move humata-repeater-handle\\\" aria-hidden=\\\"true\\\"></span>\" +\n                            \"<span class=\\\"screen-reader-text\\\">Drag to reorder</span>\" +\n                        \"</td>\" +\n                        \"<td style=\\\"width: 38%\\\">\" +\n                            \"<input type=\\\"text\\\" class=\\\"regular-text\\\" name=\\\"humata_auto_links[\" + idx + \"][phrase]\\\" value=\\\"\\\" placeholder=\\\"Phrase (exact match)\\\">\" +\n                        \"</td>\" +\n                        \"<td>\" +\n                            \"<input type=\\\"url\\\" class=\\\"regular-text\\\" name=\\\"humata_auto_links[\" + idx + \"][url]\\\" value=\\\"\\\" placeholder=\\\"https://example.com/\\\">\" +\n                        \"</td>\" +\n                        \"<td style=\\\"width: 90px\\\">\" +\n                            \"<button type=\\\"button\\\" class=\\\"button link-delete humata-repeater-remove\\\">Remove</button>\" +\n                        \"</td>\" +\n                    \"</tr>\";\n            }\n\n            function humataBuildFaqRow(idx) {\n                return \"\" +\n                    \"<tr class=\\\"humata-repeater-row\\\">\" +\n                        \"<td class=\\\"humata-repeater-handle-cell\\\">\" +\n                            \"<span class=\\\"dashicons dashicons-move humata-repeater-handle\\\" aria-hidden=\\\"true\\\"></span>\" +\n                            \"<span class=\\\"screen-reader-text\\\">Drag to reorder</span>\" +\n                        \"</td>\" +\n                        \"<td style=\\\"width: 34%\\\">\" +\n                            \"<input type=\\\"text\\\" class=\\\"regular-text\\\" name=\\\"humata_floating_help[faq_items][\" + idx + \"][question]\\\" value=\\\"\\\" placeholder=\\\"Question\\\">\" +\n                        \"</td>\" +\n                        \"<td>\" +\n                            \"<textarea class=\\\"large-text\\\" rows=\\\"3\\\" name=\\\"humata_floating_help[faq_items][\" + idx + \"][answer]\\\" placeholder=\\\"Answer\\\"></textarea>\" +\n                        \"</td>\" +\n                        \"<td style=\\\"width: 90px\\\">\" +\n                            \"<button type=\\\"button\\\" class=\\\"button link-delete humata-repeater-remove\\\">Remove</button>\" +\n                        \"</td>\" +\n                    \"</tr>\";\n            }\n\n            function humataInitRepeaterSortable($container) {\n                if (!$container || !$container.length) return;\n                var $tbody = $container.find(\"tbody\");\n                if (!$tbody.length) return;\n                if (!$tbody.sortable) return;\n                if ($tbody.data(\"humataSortableInit\")) return;\n\n                $tbody.sortable({\n                    axis: \"y\",\n                    items: \"> tr\",\n                    handle: \".humata-repeater-handle\",\n                    placeholder: \"humata-repeater-placeholder\",\n                    forcePlaceholderSize: true,\n                    tolerance: \"pointer\"\n                });\n\n                try { $tbody.disableSelection(); } catch (e) {}\n                $tbody.data(\"humataSortableInit\", true);\n            }\n\n            function humataAddRepeaterRow($container) {\n                if (!$container || !$container.length) return;\n\n                var type = String($container.data(\"humataRepeater\") || \"\");\n                var nextIdx = humataSafeInt($container.attr(\"data-next-index\"), $container.find(\"tbody tr\").length);\n\n                var html = \"\";\n                if (type === \"external_links\") {\n                    html = humataBuildExternalLinkRow(nextIdx);\n                } else if (type === \"auto_links\") {\n                    html = humataBuildAutoLinkRow(nextIdx);\n                } else if (type === \"faq_items\") {\n                    html = humataBuildFaqRow(nextIdx);\n                }\n\n                if (!html) return;\n\n                var $tbody = $container.find(\"tbody\");\n                if (!$tbody.length) return;\n\n                $tbody.append(html);\n                $container.attr(\"data-next-index\", String(nextIdx + 1));\n                humataInitRepeaterSortable($container);\n            }\n\n            $(document).on(\"click\", \".humata-floating-help-repeater .humata-repeater-add\", function() {\n                humataAddRepeaterRow($(this).closest(\".humata-floating-help-repeater\"));\n            });\n\n            $(document).on(\"click\", \".humata-floating-help-repeater .humata-repeater-remove\", function() {\n                $(this).closest(\"tr\").remove();\n            });\n\n            // Initialize sortable for existing repeaters.\n            $(\".humata-floating-help-repeater\").each(function() {\n                humataInitRepeaterSortable($(this));\n            });\n\n            // Avatar uploader handlers.\n            $(document).on(\"click\", \".humata-upload-avatar\", function(e) {\n                e.preventDefault();\n                var targetId = $(this).data(\"target\");\n                var frame = wp.media({\n                    title: \"Select Avatar Image\",\n                    button: { text: \"Use this image\" },\n                    multiple: false,\n                    library: { type: [\"image/jpeg\", \"image/png\"] }\n                });\n                frame.on(\"select\", function() {\n                    var attachment = frame.state().get(\"selection\").first().toJSON();\n                    $(\"#\" + targetId).val(attachment.url);\n                    $(\"#\" + targetId + \"_preview\").html(\"<img src=\\\"\" + attachment.url + \"\\\" style=\\\"max-width:64px;max-height:64px;border-radius:6px;\\\" />\");\n                    $(\".humata-remove-avatar[data-target=\\\"\" + targetId + \"\\\"]\").show();\n                });\n                frame.open();\n            });\n\n            $(document).on(\"click\", \".humata-remove-avatar\", function(e) {\n                e.preventDefault();\n                var targetId = $(this).data(\"target\");\n                $(\"#\" + targetId).val(\"\");\n                $(\"#\" + targetId + \"_preview\").empty();\n                $(this).hide();\n            });\n\n            // Intent-Based Links repeater handlers.\n            function humataBuildIntentLinkRow(intentIdx, linkIdx) {\n                return \"\" +\n                    \"<tr class=\\\"humata-intent-link-row\\\">\" +\n                        \"<td>\" +\n                            \"<input type=\\\"text\\\" class=\\\"regular-text\\\" name=\\\"humata_intent_links[\" + intentIdx + \"][links][\" + linkIdx + \"][title]\\\" value=\\\"\\\" placeholder=\\\"Shipping Policy\\\">\" +\n                        \"</td>\" +\n                        \"<td>\" +\n                            \"<input type=\\\"url\\\" class=\\\"regular-text\\\" name=\\\"humata_intent_links[\" + intentIdx + \"][links][\" + linkIdx + \"][url]\\\" value=\\\"\\\" placeholder=\\\"https://example.com/shipping\\\">\" +\n                        \"</td>\" +\n                        \"<td>\" +\n                            \"<button type=\\\"button\\\" class=\\\"button link-delete humata-intent-link-remove\\\">Remove</button>\" +\n                        \"</td>\" +\n                    \"</tr>\";\n            }\n\n            function humataBuildAccordionRow(intentIdx, accIdx) {\n                return \"\" +\n                    \"<tr class=\\\"humata-intent-accordion-row\\\">\" +\n                        \"<td>\" +\n                            \"<input type=\\\"text\\\" class=\\\"regular-text\\\" name=\\\"humata_intent_links[\" + intentIdx + \"][accordions][\" + accIdx + \"][title]\\\" value=\\\"\\\" placeholder=\\\"e.g., Shipping Restrictions\\\">\" +\n                        \"</td>\" +\n                        \"<td>\" +\n                            \"<div class=\\\"humata-accordion-toolbar\\\">\" +\n                                \"<button type=\\\"button\\\" class=\\\"button button-small humata-format-bold\\\" title=\\\"Bold\\\"><strong>B</strong></button>\" +\n                                \"<button type=\\\"button\\\" class=\\\"button button-small humata-format-italic\\\" title=\\\"Italic\\\"><em>I</em></button>\" +\n                                \"<button type=\\\"button\\\" class=\\\"button button-small humata-format-link\\\" title=\\\"Insert Link\\\">\uD83D\uDD17</button>\" +\n                            \"</div>\" +\n                            \"<textarea class=\\\"large-text humata-accordion-content-input\\\" rows=\\\"3\\\" name=\\\"humata_intent_links[\" + intentIdx + \"][accordions][\" + accIdx + \"][content]\\\" placeholder=\\\"Content shown when expanded... (supports formatting)\\\" maxlength=\\\"1000\\\"></textarea>\" +\n                        \"</td>\" +\n                        \"<td>\" +\n                            \"<button type=\\\"button\\\" class=\\\"button link-delete humata-intent-accordion-remove\\\">Remove</button>\" +\n                        \"</td>\" +\n                    \"</tr>\";\n            }\n\n            function humataBuildIntentCard(intentIdx) {\n                return \"\" +\n                    \"<div class=\\\"humata-intent-card\\\" data-intent-index=\\\"\" + intentIdx + \"\\\">\" +\n                        \"<div class=\\\"humata-intent-card-header\\\">\" +\n                            \"<button type=\\\"button\\\" class=\\\"humata-intent-toggle\\\" aria-expanded=\\\"true\\\" aria-label=\\\"Toggle intent\\\">\" +\n                                \"<span class=\\\"dashicons dashicons-arrow-down-alt2\\\"></span>\" +\n                            \"</button>\" +\n                            \"<span class=\\\"humata-intent-card-title\\\">Intent #\" + (intentIdx + 1) + \"</span>\" +\n                            \"<button type=\\\"button\\\" class=\\\"button link-delete humata-intent-remove\\\">Remove Intent</button>\" +\n                        \"</div>\" +\n                        \"<div class=\\\"humata-intent-card-body\\\">\" +\n                            \"<p>\" +\n                                \"<label><strong>Intent Name</strong></label><br>\" +\n                                \"<input type=\\\"text\\\" class=\\\"regular-text\\\" name=\\\"humata_intent_links[\" + intentIdx + \"][intent_name]\\\" value=\\\"\\\" placeholder=\\\"e.g., shipping_intent\\\">\" +\n                                \" <span class=\\\"description\\\">Internal label (not shown to users).</span>\" +\n                            \"</p>\" +\n                            \"<p>\" +\n                                \"<label><strong>Keywords</strong></label><br>\" +\n                                \"<textarea class=\\\"large-text\\\" rows=\\\"2\\\" name=\\\"humata_intent_links[\" + intentIdx + \"][keywords]\\\" placeholder=\\\"shipping, ship, delivery, deliver, track, package\\\"></textarea>\" +\n                                \" <span class=\\\"description\\\">Comma-separated keywords. If any keyword appears in the user's question, the links below are shown.</span>\" +\n                            \"</p>\" +\n                            \"<div class=\\\"humata-intent-links-sub\\\" data-links-next-index=\\\"1\\\">\" +\n                                \"<label><strong>Resource Links</strong></label>\" +\n                                \"<table class=\\\"widefat striped humata-intent-links-table\\\" style=\\\"max-width: 800px; margin-top: 6px;\\\">\" +\n                                    \"<thead>\" +\n                                        \"<tr>\" +\n                                            \"<th>Title</th>\" +\n                                            \"<th>URL</th>\" +\n                                            \"<th style=\\\"width: 80px;\\\">Actions</th>\" +\n                                        \"</tr>\" +\n                                    \"</thead>\" +\n                                    \"<tbody>\" +\n                                        \"<tr class=\\\"humata-intent-link-row\\\">\" +\n                                            \"<td>\" +\n                                                \"<input type=\\\"text\\\" class=\\\"regular-text\\\" name=\\\"humata_intent_links[\" + intentIdx + \"][links][0][title]\\\" value=\\\"\\\" placeholder=\\\"Shipping Policy\\\">\" +\n                                            \"</td>\" +\n                                            \"<td>\" +\n                                                \"<input type=\\\"url\\\" class=\\\"regular-text\\\" name=\\\"humata_intent_links[\" + intentIdx + \"][links][0][url]\\\" value=\\\"\\\" placeholder=\\\"https://example.com/shipping\\\">\" +\n                                            \"</td>\" +\n                                            \"<td>\" +\n                                                \"<button type=\\\"button\\\" class=\\\"button link-delete humata-intent-link-remove\\\">Remove</button>\" +\n                                            \"</td>\" +\n                                        \"</tr>\" +\n                                    \"</tbody>\" +\n                                \"</table>\" +\n                                \"<p style=\\\"margin-top: 8px;\\\">\" +\n                                    \"<button type=\\\"button\\\" class=\\\"button button-secondary humata-intent-link-add\\\">Add Link</button>\" +\n                                \"</p>\" +\n                            \"</div>\" +\n                            \"<div class=\\\"humata-intent-accordions-sub\\\" data-accordions-next-index=\\\"1\\\" style=\\\"margin-top: 20px;\\\">\" +\n                                \"<label><strong>Custom Accordions</strong></label>\" +\n                                \"<span class=\\\"description\\\" style=\\\"display: block; margin-bottom: 6px;\\\">FAQ-style collapsible toggles shown in the chat response.</span>\" +\n                                \"<table class=\\\"widefat striped humata-intent-accordions-table\\\" style=\\\"max-width: 800px; margin-top: 6px;\\\">\" +\n                                    \"<thead>\" +\n                                        \"<tr>\" +\n                                            \"<th style=\\\"width: 200px;\\\">Title</th>\" +\n                                            \"<th>Content</th>\" +\n                                            \"<th style=\\\"width: 80px;\\\">Actions</th>\" +\n                                        \"</tr>\" +\n                                    \"</thead>\" +\n                                    \"<tbody>\" +\n                                        \"<tr class=\\\"humata-intent-accordion-row\\\">\" +\n                                            \"<td>\" +\n                                                \"<input type=\\\"text\\\" class=\\\"regular-text\\\" name=\\\"humata_intent_links[\" + intentIdx + \"][accordions][0][title]\\\" value=\\\"\\\" placeholder=\\\"e.g., Shipping Restrictions\\\">\" +\n                                            \"</td>\" +\n                                            \"<td>\" +\n                                                \"<div class=\\\"humata-accordion-toolbar\\\">\" +\n                                                    \"<button type=\\\"button\\\" class=\\\"button button-small humata-format-bold\\\" title=\\\"Bold\\\"><strong>B</strong></button>\" +\n                                                    \"<button type=\\\"button\\\" class=\\\"button button-small humata-format-italic\\\" title=\\\"Italic\\\"><em>I</em></button>\" +\n                                                    \"<button type=\\\"button\\\" class=\\\"button button-small humata-format-link\\\" title=\\\"Insert Link\\\">\uD83D\uDD17</button>\" +\n                                                \"</div>\" +\n                                                \"<textarea class=\\\"large-text humata-accordion-content-input\\\" rows=\\\"3\\\" name=\\\"humata_intent_links[\" + intentIdx + \"][accordions][0][content]\\\" placeholder=\\\"Content shown when expanded... (supports formatting)\\\" maxlength=\\\"1000\\\"></textarea>\" +\n                                            \"</td>\" +\n                                            \"<td>\" +\n                                                \"<button type=\\\"button\\\" class=\\\"button link-delete humata-intent-accordion-remove\\\">Remove</button>\" +\n                                            \"</td>\" +\n                                        \"</tr>\" +\n                                    \"</tbody>\" +\n                                \"</table>\" +\n                                \"<p style=\\\"margin-top: 8px;\\\">\" +\n                                    \"<button type=\\\"button\\\" class=\\\"button button-secondary humata-intent-accordion-add\\\">Add Accordion</button>\" +\n                                \"</p>\" +\n                            \"</div>\" +\n                        \"</div>\" +\n                    \"</div>\";\n            }\n\n            // Add new intent\n            $(document).on(\"click\", \".humata-intent-add\", function() {\n                var $repeater = $(this).closest(\".humata-intent-links-repeater\");\n                var $container = $repeater.find(\".humata-intent-links-container\");\n                var nextIdx = humataSafeInt($repeater.attr(\"data-next-index\"), $container.find(\".humata-intent-card\").length);\n\n                $container.append(humataBuildIntentCard(nextIdx));\n                $repeater.attr(\"data-next-index\", String(nextIdx + 1));\n            });\n\n            // Remove intent\n            $(document).on(\"click\", \".humata-intent-remove\", function() {\n                $(this).closest(\".humata-intent-card\").remove();\n            });\n\n            // Add link within an intent\n            $(document).on(\"click\", \".humata-intent-link-add\", function() {\n                var $sub = $(this).closest(\".humata-intent-links-sub\");\n                var $tbody = $sub.find(\"tbody\");\n                var $card = $(this).closest(\".humata-intent-card\");\n                var intentIdx = humataSafeInt($card.attr(\"data-intent-index\"), 0);\n                var linkIdx = humataSafeInt($sub.attr(\"data-links-next-index\"), $tbody.find(\"tr\").length);\n\n                $tbody.append(humataBuildIntentLinkRow(intentIdx, linkIdx));\n                $sub.attr(\"data-links-next-index\", String(linkIdx + 1));\n            });\n\n            // Remove link within an intent\n            $(document).on(\"click\", \".humata-intent-link-remove\", function() {\n                var $tbody = $(this).closest(\"tbody\");\n                $(this).closest(\"tr\").remove();\n                // Ensure at least one row remains\n                if ($tbody.find(\"tr\").length === 0) {\n                    var $card = $tbody.closest(\".humata-intent-card\");\n                    var $sub = $tbody.closest(\".humata-intent-links-sub\");\n                    var intentIdx = humataSafeInt($card.attr(\"data-intent-index\"), 0);\n                    $tbody.append(humataBuildIntentLinkRow(intentIdx, 0));\n                    $sub.attr(\"data-links-next-index\", \"1\");\n                }\n            });\n\n            // Add accordion within an intent\n            $(document).on(\"click\", \".humata-intent-accordion-add\", function() {\n                var $sub = $(this).closest(\".humata-intent-accordions-sub\");\n                var $tbody = $sub.find(\"tbody\");\n                var $card = $(this).closest(\".humata-intent-card\");\n                var intentIdx = humataSafeInt($card.attr(\"data-intent-index\"), 0);\n                var accIdx = humataSafeInt($sub.attr(\"data-accordions-next-index\"), $tbody.find(\"tr\").length);\n\n                // Limit to 5 accordions per intent\n                if ($tbody.find(\"tr\").length >= 5) {\n                    return;\n                }\n\n                $tbody.append(humataBuildAccordionRow(intentIdx, accIdx));\n                $sub.attr(\"data-accordions-next-index\", String(accIdx + 1));\n            });\n\n            // Remove accordion within an intent\n            $(document).on(\"click\", \".humata-intent-accordion-remove\", function() {\n                var $tbody = $(this).closest(\"tbody\");\n                $(this).closest(\"tr\").remove();\n                // Ensure at least one row remains\n                if ($tbody.find(\"tr\").length === 0) {\n                    var $card = $tbody.closest(\".humata-intent-card\");\n                    var $sub = $tbody.closest(\".humata-intent-accordions-sub\");\n                    var intentIdx = humataSafeInt($card.attr(\"data-intent-index\"), 0);\n                    $tbody.append(humataBuildAccordionRow(intentIdx, 0));\n                    $sub.attr(\"data-accordions-next-index\", \"1\");\n                }\n            });\n\n            // Accordion content formatting toolbar\n            function humataWrapSelection(textarea, before, after) {\n                var start = textarea.selectionStart;\n                var end = textarea.selectionEnd;\n                var text = textarea.value;\n                var selected = text.substring(start, end);\n\n                if (!selected) {\n                    selected = \"text\";\n                }\n\n                var newText = text.substring(0, start) + before + selected + after + text.substring(end);\n                textarea.value = newText;\n                textarea.focus();\n                textarea.setSelectionRange(start + before.length, start + before.length + selected.length);\n            }\n\n            // Format selected text with bold\n            $(document).on(\"click\", \".humata-format-bold\", function() {\n                var $textarea = $(this).closest(\"td\").find(\"textarea\");\n                if ($textarea.length) {\n                    humataWrapSelection($textarea[0], \"<strong>\", \"</strong>\");\n                }\n            });\n\n            // Format selected text with italic\n            $(document).on(\"click\", \".humata-format-italic\", function() {\n                var $textarea = $(this).closest(\"td\").find(\"textarea\");\n                if ($textarea.length) {\n                    humataWrapSelection($textarea[0], \"<em>\", \"</em>\");\n                }\n            });\n\n            // Insert link around selected text\n            $(document).on(\"click\", \".humata-format-link\", function() {\n                var $textarea = $(this).closest(\"td\").find(\"textarea\");\n                if ($textarea.length) {\n                    var url = prompt(\"Enter URL:\", \"https://\");\n                    if (url && url !== \"https://\") {\n                        humataWrapSelection($textarea[0], \"<a href=\\\"\" + url + \"\\\" target=\\\"_blank\\\">\", \"</a>\");\n                    }\n                }\n            });\n\n            // -----------------------------------------------\n            // Trigger Pages repeater handlers\n            // -----------------------------------------------\n\n            function humataInitTriggerPagesSortable() {\n                var $list = $(\".humata-trigger-pages-list\");\n                if (!$list.length || !$list.sortable) return;\n                if ($list.data(\"humataSortableInit\")) return;\n\n                $list.sortable({\n                    axis: \"y\",\n                    items: \"> .humata-trigger-page-item\",\n                    handle: \".humata-repeater-handle\",\n                    placeholder: \"humata-repeater-placeholder\",\n                    forcePlaceholderSize: true,\n                    tolerance: \"pointer\",\n                    update: function() {\n                        // Reindex the form fields after reordering\n                        humataReindexTriggerPages();\n                    }\n                });\n\n                try { $list.disableSelection(); } catch (e) {}\n                $list.data(\"humataSortableInit\", true);\n            }\n\n            function humataReindexTriggerPages() {\n                $(\".humata-trigger-pages-list .humata-trigger-page-item\").each(function(idx) {\n                    var $item = $(this);\n                    // Update input names\n                    $item.find(\"input[name*=\\\"humata_trigger_pages\\\"]\").each(function() {\n                        var name = $(this).attr(\"name\");\n                        name = name.replace(/humata_trigger_pages\\[\\d+\\]/, \"humata_trigger_pages[\" + idx + \"]\");\n                        $(this).attr(\"name\", name);\n                    });\n                    // Update textarea names (for wp_editor fallback)\n                    $item.find(\"textarea[name*=\\\"humata_trigger_pages\\\"]\").each(function() {\n                        var name = $(this).attr(\"name\");\n                        name = name.replace(/humata_trigger_pages\\[\\d+\\]/, \"humata_trigger_pages[\" + idx + \"]\");\n                        $(this).attr(\"name\", name);\n                    });\n                });\n                // Update next index\n                var $repeater = $(\".humata-trigger-pages-repeater\");\n                $repeater.attr(\"data-next-index\", String($(\".humata-trigger-pages-list .humata-trigger-page-item\").length));\n            }\n\n            // Remove trigger page\n            $(document).on(\"click\", \".humata-trigger-pages-repeater .humata-repeater-remove\", function() {\n                var $item = $(this).closest(\".humata-trigger-page-item\");\n                var editorId = $item.find(\".wp-editor-area\").attr(\"id\");\n\n                // Remove TinyMCE instance if exists\n                if (editorId && typeof tinymce !== \"undefined\" && tinymce.get(editorId)) {\n                    tinymce.get(editorId).remove();\n                }\n\n                $item.remove();\n                humataReindexTriggerPages();\n            });\n\n            // Add trigger page - scroll to the last empty row since one is always available\n            $(document).on(\"click\", \".humata-trigger-pages-add\", function() {\n                var $lastItem = $(\".humata-trigger-pages-list .humata-trigger-page-item\").last();\n                if ($lastItem.length) {\n                    $lastItem[0].scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n                    $lastItem.find(\"input[type=\\\"text\\\"]\").first().focus();\n                }\n            });\n\n            // Initialize sortable for trigger pages\n            humataInitTriggerPagesSortable();\n\n            // Intent collapse state persistence\n            var INTENT_COLLAPSE_KEY = \"humata_intent_collapsed\";\n\n            function humataGetCollapsedIntents() {\n                try {\n                    var stored = localStorage.getItem(INTENT_COLLAPSE_KEY);\n                    if (stored) {\n                        var parsed = JSON.parse(stored);\n                        if (Array.isArray(parsed)) {\n                            return parsed;\n                        }\n                    }\n                } catch (e) {}\n                return [];\n            }\n\n            function humataSaveCollapsedIntents(indices) {\n                try {\n                    localStorage.setItem(INTENT_COLLAPSE_KEY, JSON.stringify(indices));\n                } catch (e) {}\n            }\n\n            function humataCollapseCard($card) {\n                var $btn = $card.find(\".humata-intent-toggle\");\n                $card.addClass(\"humata-intent-collapsed\");\n                $btn.attr(\"aria-expanded\", \"false\");\n                $btn.find(\".dashicons\").removeClass(\"dashicons-arrow-down-alt2\").addClass(\"dashicons-arrow-right-alt2\");\n            }\n\n            function humataExpandCard($card) {\n                var $btn = $card.find(\".humata-intent-toggle\");\n                $card.removeClass(\"humata-intent-collapsed\");\n                $btn.attr(\"aria-expanded\", \"true\");\n                $btn.find(\".dashicons\").removeClass(\"dashicons-arrow-right-alt2\").addClass(\"dashicons-arrow-down-alt2\");\n            }\n\n            // Restore collapsed state on page load\n            (function() {\n                var collapsed = humataGetCollapsedIntents();\n                if (!collapsed.length) return;\n\n                $(\".humata-intent-card\").each(function() {\n                    var idx = humataSafeInt($(this).attr(\"data-intent-index\"), -1);\n                    if (idx >= 0 && collapsed.indexOf(idx) !== -1) {\n                        humataCollapseCard($(this));\n                    }\n                });\n            })();\n\n            // Toggle intent card collapse/expand\n            $(document).on(\"click\", \".humata-intent-toggle\", function() {\n                var $btn = $(this);\n                var $card = $btn.closest(\".humata-intent-card\");\n                var isExpanded = $btn.attr(\"aria-expanded\") === \"true\";\n                var idx = humataSafeInt($card.attr(\"data-intent-index\"), -1);\n\n                if (isExpanded) {\n                    humataCollapseCard($card);\n                } else {\n                    humataExpandCard($card);\n                }\n\n                // Persist to localStorage\n                var collapsed = humataGetCollapsedIntents();\n                var pos = collapsed.indexOf(idx);\n                if (isExpanded && pos === -1) {\n                    collapsed.push(idx);\n                } else if (!isExpanded && pos !== -1) {\n                    collapsed.splice(pos, 1);\n                }\n                humataSaveCollapsedIntents(collapsed);\n            });\n        })();\n    });\n})(jQuery);\n\n\n"],
  "mappings": "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",
  "names": ["$", "config", "humataAdminNonce", "ajaxurl", "humataTitles", "humataTitleNotFetchedText", "humataDocsPerPage", "humataDocsPage", "humataExtractIds", "text", "matches", "seen", "unique", "_", "id", "humataGetTokenIds", "humataGetLabelForId", "humataSortTokens", "$container", "tokens", "a", "b", "aId", "bId", "aLabel", "bLabel", "el", "humataAddToken", "$token", "$label", "$remove", "humataSyncHiddenAndCount", "ids", "humataRenderDocumentsPagination", "total", "$pager", "totalPages", "currentPage", "start", "end", "$prev", "$next", "$info", "humataSyncDocumentsTable", "$tbody", "startIndex", "endIndex", "pageIds", "title", "$row", "humataAddTokensFromText", "humataInitTokensFromHidden", "$hidden", "$tokens", "e", "key", "val", "added", "$last", "$input", "humataSetIoStatus", "message", "kind", "$status", "humataExportIdsToText", "humataDownloadFile", "filename", "content", "mimeType", "mime", "blob", "url", "humataCopyToClipboard", "resolve", "reject", "$temp", "ok", "humataGetImportMode", "$checked", "mode", "humataApplyImportedText", "importText", "importMode", "existingCount", "beforeCount", "afterCount", "addedCount", "dupCount", "count", "json", "input", "file", "reader", "$btn", "$result", "response", "offset", "limit", "delayMs", "documentIds", "fetchBatch", "msg", "docId", "successMsg", "humataGetSecondLlmProvider", "$selected", "humataToggleSecondLlmFields", "provider", "showStraico", "showAnthropic", "showAny", "humataSafeInt", "value", "fallback", "n", "humataBuildExternalLinkRow", "idx", "humataBuildAutoLinkRow", "humataBuildFaqRow", "humataInitRepeaterSortable", "humataAddRepeaterRow", "type", "nextIdx", "html", "targetId", "frame", "attachment", "humataBuildIntentLinkRow", "intentIdx", "linkIdx", "humataBuildAccordionRow", "accIdx", "humataBuildIntentCard", "$repeater", "$sub", "$card", "humataWrapSelection", "textarea", "before", "after", "selected", "newText", "$textarea", "humataInitTriggerPagesSortable", "$list", "humataReindexTriggerPages", "$item", "name", "editorId", "$lastItem", "INTENT_COLLAPSE_KEY", "humataGetCollapsedIntents", "stored", "parsed", "humataSaveCollapsedIntents", "indices", "humataCollapseCard", "humataExpandCard", "collapsed", "isExpanded", "pos"]
}
